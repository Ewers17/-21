<!DOCTYPE html>
<html lang="ru" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIDAS | Premium Marketplace</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Модальное окно выбора города -->
    <div id="cityModal" class="modal">
        <div class="modal-content city-modal">
            <div class="modal-header">
                <i class="fas fa-map-marker-alt"></i>
                <h2>Выберите город</h2>
                <p>Это определит валюту и доступность товаров</p>
            </div>
            <div class="city-grid">
                <button class="city-card" data-city="Москва" data-country="РФ">
                    <i class="fas fa-flag"></i>
                    <span>Москва</span>
                    <small>Россия • RUB</small>
                </button>
                <button class="city-card" data-city="Нью-Йорк" data-country="США">
                    <i class="fas fa-flag-usa"></i>
                    <span>Нью-Йорк</span>
                    <small>США • USD</small>
                </button>
                <button class="city-card" data-city="Киев" data-country="Украина">
                    <i class="fas fa-flag"></i>
                    <span>Киев</span>
                    <small>Украина • UAH</small>
                </button>
            </div>
        </div>
    </div>

    <!-- Модальное окно авторизации -->
    <div id="authModal" class="modal">
        <div class="modal-content auth-modal">
            <div class="modal-header">
                <h2>Вход в MIDAS</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="auth-form active" id="loginForm">
                <input type="text" id="loginUsername" placeholder="Логин" class="auth-input">
                <input type="password" id="loginPassword" placeholder="Пароль" class="auth-input">
                <button id="loginBtn" class="auth-btn">
                    <i class="fas fa-sign-in-alt"></i> Войти
                </button>
                <p class="auth-switch">Нет аккаунта? <a href="#" id="showRegister">Зарегистрироваться</a></p>
            </div>
            <div class="auth-form" id="registerForm">
                <input type="text" id="regUsername" placeholder="Логин (минимум 3 символа)" class="auth-input">
                <input type="password" id="regPassword" placeholder="Пароль" class="auth-input">
                <input type="password" id="regPasswordConfirm" placeholder="Повторите пароль" class="auth-input">
                <button id="registerBtn" class="auth-btn">
                    <i class="fas fa-user-plus"></i> Создать аккаунт
                </button>
                <p class="auth-switch">Уже есть аккаунт? <a href="#" id="showLogin">Войти</a></p>
            </div>
        </div>
    </div>

    <!-- Шапка -->
    <header class="header">
        <div class="container">
            <div class="logo" onclick="window.location.reload()">
                <i class="fas fa-crown"></i>
                <h1>MIDAS</h1>
            </div>
            
            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" id="searchInput" placeholder="Поиск товаров...">
            </div>
            
            <div class="header-actions">
                <button class="header-btn" id="cityBtn">
                    <i class="fas fa-map-marker-alt"></i>
                    <span id="currentCity">Москва</span>
                </button>
                <button class="header-btn" id="authBtn">
                    <i class="fas fa-user"></i>
                    <span id="userStatus">Войти</span>
                </button>
                <button class="header-btn cart-btn" id="cartBtn">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count" id="cartCount">0</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Основной контент -->
    <main class="container">
        <div class="content-header">
            <h2><i class="fas fa-gem"></i> Premium Товары</h2>
            <div class="view-controls">
                <button class="view-btn active" data-view="grid"><i class="fas fa-th-large"></i></button>
                <button class="view-btn" data-view="list"><i class="fas fa-list"></i></button>
            </div>
        </div>

        <div class="products-grid" id="productsGrid">
            <!-- Товары загружаются через JS -->
        </div>
    </main>

    <!-- Модальное окно товара -->
    <div id="productModal" class="modal">
        <div class="modal-content product-modal">
            <div class="product-modal-header">
                <button class="close-modal">&times;</button>
                <button class="edit-product-btn" id="editProductBtn" style="display: none;">
                    <i class="fas fa-edit"></i> Редактировать
                </button>
            </div>
            
            <div class="product-modal-content">
                <div class="product-image-container">
                    <div class="main-image">
                        <img id="productModalImage" src="" alt="">
                        <div class="image-zoom">
                            <button class="zoom-btn" onclick="zoomImage(1.5)"><i class="fas fa-search-plus"></i></button>
                            <button class="zoom-btn" onclick="zoomImage(1)"><i class="fas fa-search-minus"></i></button>
                        </div>
                    </div>
                </div>
                
                <div class="product-details">
                    <div class="product-header">
                        <h2 id="productModalTitle"></h2>
                        <div class="product-price" id="productModalPrice"></div>
                    </div>
                    
                    <div class="product-rating">
                        <div class="stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        <span id="productModalRating">4.8</span>
                        <span class="reviews-count" id="productModalReviews">(124 отзыва)</span>
                    </div>
                    
                    <div class="gram-selection">
                        <h3>Выберите количество:</h3>
                        <div class="gram-options">
                            <button class="gram-option" data-gram="2">2г</button>
                            <button class="gram-option active" data-gram="3">3г</button>
                            <button class="gram-option" data-gram="4">4г</button>
                            <button class="gram-option" data-gram="6">6г</button>
                            <button class="gram-option" data-gram="B">B</button>
                            <button class="gram-option" data-gram="S">S</button>
                        </div>
                    </div>
                    
                    <div class="product-actions">
                        <button class="buy-btn" id="buyNowBtn">
                            <i class="fas fa-bolt"></i> Купить сейчас
                        </button>
                        <button class="cart-btn" id="addToCartModalBtn">
                            <i class="fas fa-cart-plus"></i> В корзину
                        </button>
                    </div>
                    
                    <div class="product-description">
                        <h3>Описание</h3>
                        <p id="productModalDescription"></p>
                    </div>
                    
                    <div class="product-reviews">
                        <h3>Отзывы <span id="reviewsCount">124</span></h3>
                        <div class="reviews-list" id="reviewsList">
                            <!-- Отзывы загружаются через JS -->
                        </div>
                        <textarea class="review-input" id="reviewInput" placeholder="Оставьте ваш отзыв..." rows="3"></textarea>
                        <button class="review-submit" id="submitReviewBtn">
                            <i class="fas fa-paper-plane"></i> Отправить отзыв
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Админ панель редактирования -->
    <div id="editModal" class="modal">
        <div class="modal-content edit-modal">
            <div class="modal-header">
                <h2><i class="fas fa-edit"></i> Редактирование товара</h2>
                <button class="close-modal">&times;</button>
            </div>
            
            <div class="edit-form">
                <div class="form-group">
                    <label>Название товара</label>
                    <input type="text" id="editName" class="form-input">
                </div>
                
                <div class="form-group">
                    <label>Описание</label>
                    <textarea id="editDescription" class="form-input" rows="4"></textarea>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label>Цена (в рублях)</label>
                        <input type="number" id="editPrice" class="form-input">
                    </div>
                    <div class="form-group">
                        <label>Категория</label>
                        <select id="editCategory" class="form-input">
                            <option>Premium</option>
                            <option>Электроника</option>
                            <option>Одежда</option>
                            <option>Аксессуары</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>URL изображения</label>
                    <input type="text" id="editImage" class="form-input">
                </div>
                
                <div class="form-actions">
                    <button class="save-btn" id="saveEditBtn">
                        <i class="fas fa-save"></i> Сохранить изменения
                    </button>
                    <button class="delete-btn" id="deleteProductBtn">
                        <i class="fas fa-trash"></i> Удалить товар
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Корзина -->
    <div id="cartModal" class="modal right-modal">
        <div class="modal-content cart-modal">
            <div class="modal-header">
                <h2><i class="fas fa-shopping-cart"></i> Корзина</h2>
                <button class="close-modal">&times;</button>
            </div>
            
            <div class="cart-items" id="cartItems">
                <!-- Товары в корзине -->
            </div>
            
            <div class="cart-summary">
                <div class="summary-row">
                    <span>Товары</span>
                    <span id="itemsTotal">0 ₽</span>
                </div>
                <div class="summary-row">
                    <span>Доставка</span>
                    <span>0 ₽</span>
                </div>
                <div class="summary-row total">
                    <span>Итого</span>
                    <span id="cartTotal">0 ₽</span>
                </div>
                
                <div class="delivery-methods">
                    <h3>Способ получения</h3>
                    <div class="methods-grid">
                        <label class="method-option">
                            <input type="radio" name="delivery" value="pickup" checked>
                            <div class="method-card">
                                <i class="fas fa-store"></i>
                                <span>Самовывоз</span>
                            </div>
                        </label>
                        <label class="method-option">
                            <input type="radio" name="delivery" value="courier">
                            <div class="method-card">
                                <i class="fas fa-motorcycle"></i>
                                <span>Курьер</span>
                            </div>
                        </label>
                        <label class="method-option">
                            <input type="radio" name="delivery" value="terminal">
                            <div class="method-card">
                                <i class="fas fa-cube"></i>
                                <span>Терминал</span>
                            </div>
                        </label>
                        <label class="method-option">
                            <input type="radio" name="delivery" value="post">
                            <div class="method-card">
                                <i class="fas fa-box"></i>
                                <span>Почта</span>
                            </div>
                        </label>
                    </div>
                </div>
                
                <button class="checkout-btn" id="checkoutBtn">
                    <i class="fas fa-lock"></i> Перейти к оплате
                </button>
            </div>
        </div>
    </div>

    <!-- Оплата -->
    <div id="paymentModal" class="modal">
        <div class="modal-content payment-modal">
            <div class="modal-header">
                <h2><i class="fas fa-credit-card"></i> Оплата заказа</h2>
                <button class="close-modal">&times;</button>
            </div>
            
            <div class="payment-details">
                <div class="order-summary">
                    <h3>Детали заказа</h3>
                    <div class="order-item" id="paymentOrderItem">
                        <!-- Детали заказа -->
                    </div>
                    <div class="order-total">
                        <span>К оплате:</span>
                        <span id="paymentAmount">0 ₽</span>
                    </div>
                </div>
                
                <div class="payment-methods">
                    <h3>Выберите способ оплаты</h3>
                    <div class="payment-options">
                        <label class="payment-option">
                            <input type="radio" name="payment" value="card" checked>
                            <div class="payment-card">
                                <i class="fas fa-credit-card"></i>
                                <span>Банковская карта</span>
                            </div>
                        </label>
                        <label class="payment-option">
                            <input type="radio" name="payment" value="link">
                            <div class="payment-card">
                                <i class="fas fa-link"></i>
                                <span>Платежная ссылка</span>
                            </div>
                        </label>
                    </div>
                    
                    <div class="payment-info" id="cardPayment">
                        <div class="payment-card-details">
                            <p><strong>Номер карты:</strong> 2200 1234 5678 9012</p>
                            <p><strong>Получатель:</strong> ООО "MIDAS"</p>
                            <p><strong>Сумма к оплате:</strong> <span id="cardAmount">0 ₽</span></p>
                            <p><strong>Комментарий к платежу:</strong> MID-<span id="orderId">000001</span></p>
                        </div>
                    </div>
                    
                    <div class="payment-info" id="linkPayment" style="display: none;">
                        <div class="payment-link-details">
                            <p>Ссылка для оплаты:</p>
                            <a href="#" id="paymentLink" class="payment-link">https://pay.midas.com/order/000001</a>
                            <div class="qr-code">
                                <i class="fas fa-qrcode"></i>
                            </div>
                            <p>Сумма: <span id="linkAmount">0 ₽</span></p>
                        </div>
                    </div>
                </div>
                
                <button class="confirm-payment-btn" id="confirmPaymentBtn">
                    <i class="fas fa-check-circle"></i> Подтвердить оплату
                </button>
            </div>
        </div>
    </div>

    <!-- Техподдержка -->
    <div id="supportModal" class="modal">
        <div class="modal-content support-modal">
            <div class="modal-header">
                <h2><i class="fas fa-headset"></i> Техподдержка</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="support-content">
                <p>Свяжитесь с нами для решения вопросов:</p>
                <div class="support-contacts">
                    <a href="https://t.me/midas_support" class="support-link">
                        <i class="fab fa-telegram"></i> Telegram
                    </a>
                    <a href="#" class="support-link">
                        <i class="fas fa-envelope"></i> support@midas.com
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Футер -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <i class="fas fa-crown"></i>
                    <span>MIDAS</span>
                </div>
                <div class="footer-links">
                    <a href="#" id="supportFooterBtn">Поддержка</a>
                    <span>•</span>
                    <a href="#" id="adminFooterBtn">Администратору</a>
                </div>
                <div class="footer-copy">
                    © 2024 MIDAS Marketplace
                </div>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
